[debug] [2025-03-09T17:14:27.852Z] ----------------------------------------------------------------------
[debug] [2025-03-09T17:14:27.854Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\emirhan.tekin\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js functions:shell
[debug] [2025-03-09T17:14:27.854Z] CLI Version:   13.33.0
[debug] [2025-03-09T17:14:27.854Z] Platform:      win32
[debug] [2025-03-09T17:14:27.854Z] Node Version:  v20.17.0
[debug] [2025-03-09T17:14:27.854Z] Time:          Sun Mar 09 2025 20:14:27 GMT+0300 (GMT+03:00)
[debug] [2025-03-09T17:14:27.854Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-03-09T17:14:27.997Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-03-09T17:14:27.998Z] > authorizing via signed-in user (e.tekinn67@gmail.com)
[debug] [2025-03-09T17:14:27.998Z] [iam] checking project whatsapp-ad8d4 for permissions ["firebase.projects.get"]
[debug] [2025-03-09T17:14:27.999Z] Checked if tokens are valid: true, expires at: 1741543260778
[debug] [2025-03-09T17:14:27.999Z] Checked if tokens are valid: true, expires at: 1741543260778
[debug] [2025-03-09T17:14:27.999Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/whatsapp-ad8d4:testIamPermissions [none]
[debug] [2025-03-09T17:14:28.000Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/whatsapp-ad8d4:testIamPermissions x-goog-quota-user=projects/whatsapp-ad8d4
[debug] [2025-03-09T17:14:28.000Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/whatsapp-ad8d4:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2025-03-09T17:14:28.948Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/whatsapp-ad8d4:testIamPermissions 200
[debug] [2025-03-09T17:14:28.948Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/whatsapp-ad8d4:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2025-03-09T17:14:28.952Z] [functions] Functions Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-03-09T17:14:28.953Z] defaultcredentials: writing to file C:\Users\emirhan.tekin\AppData\Roaming\firebase\e_tekinn67_gmail.com_application_default_credentials.json
[debug] [2025-03-09T17:14:28.955Z] DEBUG: Setting GAC to C:\Users\emirhan.tekin\AppData\Roaming\firebase\e_tekinn67_gmail.com_application_default_credentials.json
[debug] [2025-03-09T17:14:28.955Z] Checked if tokens are valid: true, expires at: 1741543260778
[debug] [2025-03-09T17:14:28.955Z] Checked if tokens are valid: true, expires at: 1741543260778
[debug] [2025-03-09T17:14:28.955Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/whatsapp-ad8d4/adminSdkConfig [none]
[debug] [2025-03-09T17:14:29.276Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/whatsapp-ad8d4/adminSdkConfig 200
[debug] [2025-03-09T17:14:29.276Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/whatsapp-ad8d4/adminSdkConfig {"projectId":"whatsapp-ad8d4","storageBucket":"whatsapp-ad8d4.firebasestorage.app"}
[debug] [2025-03-09T17:14:29.296Z] [functions] Watching "C:\Users\emirhan.tekin\AndroidStudioProjects\WhatsApp\functions" for Cloud Functions...
[debug] [2025-03-09T17:14:29.301Z] Validating nodejs source
[debug] [2025-03-09T17:14:30.075Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "22"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.7.0",
    "firebase-functions": "^6.3.2",
    "nodemailer": "^6.10.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2025-03-09T17:14:30.075Z] Building nodejs source
[debug] [2025-03-09T17:14:30.076Z] Failed to find version of module node: reached end of search path C:\Users\emirhan.tekin\AndroidStudioProjects\WhatsApp\functions\node_modules
[warn] !  functions: Your requested "node" version "22" doesn't match your global version "20". Using node@20 from host. 
[debug] [2025-03-09T17:14:30.080Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-03-09T17:14:30.091Z] Found firebase-functions binary at 'C:\Users\emirhan.tekin\AndroidStudioProjects\WhatsApp\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8656

[debug] [2025-03-09T17:14:30.533Z] Got response from /__/functions.yaml {"endpoints":{"sendEmail":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"sendEmail"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2025-03-09T17:14:35.573Z] [functions] Loaded functions definitions from source: sendEmail.
[debug] [2025-03-09T17:14:35.574Z] [functions[us-central1-sendEmail]] http function initialized (http://127.0.0.1:5000/whatsapp-ad8d4/us-central1/sendEmail).
[info] i  functions: Loaded functions: sendEmail 
[warn] !  functions: The following emulators are not running, calls to these services will affect production: firestore, database, pubsub, storage, eventarc, tasks 
[debug] [2025-03-09T17:14:41.670Z] >>> [apiv2][query] GET http://127.0.0.1:5000/whatsapp-ad8d4/us-central1/sendEmail/ [none]
[debug] [2025-03-09T17:14:41.681Z] [work-queue] {"queuedWork":["/whatsapp-ad8d4/us-central1/sendEmail/-2025-03-09T17:14:41.681Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2025-03-09T17:14:41.681Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/whatsapp-ad8d4/us-central1/sendEmail/-2025-03-09T17:14:41.681Z"],"workRunningCount":1}
[debug] [2025-03-09T17:14:41.681Z] Accepted request GET /whatsapp-ad8d4/us-central1/sendEmail/ --> us-central1-sendEmail
[debug] [2025-03-09T17:14:41.684Z] DEBUG: [functions] Runtime ready! Sending request!
[debug] [2025-03-09T17:14:41.684Z] DEBUG: [functions] Got req.url=/whatsapp-ad8d4/us-central1/sendEmail/, mapping to path=/
[debug] [2025-03-09T17:14:41.696Z] DEBUG: [worker-pool] addWorker(us-central1-sendEmail)
[debug] [2025-03-09T17:14:41.696Z] DEBUG: [worker-pool] Adding worker with key us-central1-sendEmail, total=1
[debug] [2025-03-09T17:14:42.568Z] DEBUG: [runtime-status] [15044] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Users\\emirhan.tekin\\AndroidStudioProjects\\WhatsApp\\functions\\node_modules\\firebase-admin\\lib\\index.js"}
[debug] [2025-03-09T17:14:42.569Z] DEBUG: [runtime-status] [15044] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Users\\emirhan.tekin\\AndroidStudioProjects\\WhatsApp\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"}
[debug] [2025-03-09T17:14:42.569Z] DEBUG: [runtime-status] [15044] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}]
[debug] [2025-03-09T17:14:42.569Z] DEBUG: [runtime-status] [15044] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Users\\emirhan.tekin\\AndroidStudioProjects\\WhatsApp\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"}
[debug] [2025-03-09T17:14:42.779Z] DEBUG: [runtime-status] [15044] Checked functions.config() {"config":{}}
[debug] [2025-03-09T17:14:42.779Z] DEBUG: [runtime-status] [15044] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Users\\emirhan.tekin\\AndroidStudioProjects\\WhatsApp\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"}}
[debug] [2025-03-09T17:14:42.779Z] DEBUG: [runtime-status] [15044] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Users\\emirhan.tekin\\AndroidStudioProjects\\WhatsApp\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"}
[debug] [2025-03-09T17:14:42.782Z] DEBUG: [runtime-status] [15044] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Users\\emirhan.tekin\\AndroidStudioProjects\\WhatsApp\\functions\\node_modules\\firebase-admin\\lib\\index.js"}
[debug] [2025-03-09T17:14:42.783Z] DEBUG: [runtime-status] [15044] Resolved module firebase-functions {"declared":true,"installed":true,"version":"6.3.2","resolution":"C:\\Users\\emirhan.tekin\\AndroidStudioProjects\\WhatsApp\\functions\\node_modules\\firebase-functions\\lib\\v2\\index.js"}
[debug] [2025-03-09T17:14:42.784Z] DEBUG: [runtime-status] [15044] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.7.0","resolution":"C:\\Users\\emirhan.tekin\\AndroidStudioProjects\\WhatsApp\\functions\\node_modules\\firebase-admin\\lib\\index.js"}}
[debug] [2025-03-09T17:14:42.809Z] DEBUG: [runtime-status] [15044] initializeApp(DEFAULT) {"storageBucket":"whatsapp-ad8d4.firebasestorage.app","projectId":"whatsapp-ad8d4"}
[debug] [2025-03-09T17:14:42.814Z] DEBUG: [runtime-status] [15044] Functions runtime initialized. {"cwd":"C:\\Users\\emirhan.tekin\\AndroidStudioProjects\\WhatsApp\\functions","node_version":"20.17.0"}
[debug] [2025-03-09T17:14:42.814Z] DEBUG: [runtime-status] [15044] Listening to port: \\?\pipe\fire_emu_0f12178ba68c01fb
[debug] [2025-03-09T17:14:42.922Z] DEBUG: [worker-us-central1-sendEmail-c93514d6-2a8f-42ad-b958-599d0d028110]: IDLE
[debug] [2025-03-09T17:14:42.923Z] DEBUG: [worker-pool] submitRequest(triggerId=us-central1-sendEmail)
[debug] [2025-03-09T17:14:42.923Z] [functions] Beginning execution of "us-central1-sendEmail"
[debug] [2025-03-09T17:14:42.923Z] DEBUG: [worker-us-central1-sendEmail-c93514d6-2a8f-42ad-b958-599d0d028110]: BUSY
[info] >  📩 Gelen istek verileri: {} {"user":"📩 Gelen istek verileri: {}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-sendEmail"},"extension":{},"message":"\u001b[90m> \u001b[39m 📩 Gelen istek verileri: {}"}}
[info] >  🚨 Eksik veri hatası: {} {"user":"🚨 Eksik veri hatası: {}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-sendEmail"},"extension":{},"message":"\u001b[90m> \u001b[39m 🚨 Eksik veri hatası: {}"}}
[debug] [2025-03-09T17:14:42.934Z] DEBUG: Finishing up request with event=pause
[debug] [2025-03-09T17:14:42.934Z] [functions] Finished "us-central1-sendEmail" in 10.4224ms
[debug] [2025-03-09T17:14:42.934Z] DEBUG: [worker-us-central1-sendEmail-c93514d6-2a8f-42ad-b958-599d0d028110]: IDLE
[debug] [2025-03-09T17:14:42.934Z] DEBUG: Finishing up request with event=finish
[debug] [2025-03-09T17:14:42.934Z] DEBUG: Finishing up request with event=close
[debug] [2025-03-09T17:14:42.935Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2025-03-09T17:14:42.939Z] <<< [apiv2][status] GET http://127.0.0.1:5000/whatsapp-ad8d4/us-central1/sendEmail/ 400
[debug] [2025-03-09T17:14:42.940Z] <<< [apiv2][body] GET http://127.0.0.1:5000/whatsapp-ad8d4/us-central1/sendEmail/ {"error":"Eksik veri! email, subject ve message gereklidir."}
